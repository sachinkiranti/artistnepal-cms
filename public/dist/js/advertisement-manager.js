$(function(){({init:function(){this.cacheDom(),this.bind()},cacheDom:function(){this.$advertisementManager=$(".advertisement-manager")},bind:function(){$(document).on("click","#lfm",this.showFileManager),this.$advertisementManager.on("click",".add-advertisement",this.addNewAdvertisementTr),this.$advertisementManager.on("click",".delete-advertisement",this.removeAdvertisement)},removeAdvertisement:function(){var t,n;return(n=(t=$(this)).parents("table").find("tbody tr.advertisement-row")).length>1?t.closest("tr").remove():(n.find(":input").val(""),n.find("img").attr("src",""),random=Math.floor(1e5*Math.random()+1),thumbnail="thumbnail"+random,holder="holder"+random,n.find("td > .input-group :input").attr("id",thumbnail),n.find("td > .input-group a").attr("data-input",thumbnail),n.find("td > .input-group a").attr("data-preview",holder),n.find("td > .input-group").next().attr("id",holder)),!1},addNewAdvertisementTr:function(){var t,n,i,e,a;return(n=(t=$(this).parents("table").find("tbody tr.advertisement-row:first")).clone()).find(":input").val(""),n.find("img").attr("src",""),e="thumbnail"+(i=Math.floor(1e5*Math.random()+1)),a="holder"+i,n.find("td > .input-group :input").attr("id",e),n.find("td > .input-group a").attr("data-input",e),n.find("td > .input-group a").attr("data-preview",a),n.find("td > .input-group").next().attr("id",a),t.after(n),!1},showFileManager:function(){$(this).filemanager("image")}}).init()});
